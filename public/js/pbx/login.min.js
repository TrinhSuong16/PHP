/*=========================================================================================
    File Name: login.min.js
    Description: pbx general scripts
    --------------------------------------------------------------------------------------
    Item Name: Vuexy  - Vuejs, HTML & Laravel Admin Dashboard Template
    Author: Lê Chí Đại
    Author Email: dai.le@southtelecom.vn
==========================================================================================*/
const htmlEl=document.getElementsByTagName("body")[0],base_url=$("meta[name=base_url]").attr("content"),toggleTheme=e=>{localStorage.setItem("theme",e),htmlEl.dataset.theme=e;var t=$(".item-color span");$(t).removeClass("circle"),$(".color-"+e).addClass("circle")},changeLanguage=e=>{$.get(`${base_url}language/change`,{lang:e},function(e){1==e.status&&window.location.reload()})};$(document).ready(function(){if(localStorage.getItem("theme")){let e=localStorage.getItem("theme");htmlEl.dataset.theme=e,$(".theme-color .color-"+e).addClass("circle"),$(".theme-color button."+e).addClass("active")}else localStorage.setItem("theme","red"),htmlEl.dataset.theme="red",$(".theme-color .color-red").addClass("circle"),$(".theme-color button.red").addClass("active")}),$(window).on("load",function(){base_url.match(/(http(s)\:\/\/)?[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(\S*)?/)&&(document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.onkeydown=function(e){return 123!=e.keyCode&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="I".charCodeAt(0))&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="C".charCodeAt(0))&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="J".charCodeAt(0))&&((!e.ctrlKey||e.keyCode!="U".charCodeAt(0))&&void 0))))}),$("#space-js").length&&particlesJS("space-js",{particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"images/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}),$(document).on("click","#captcha",function(e){document.getElementById("captcha").src=`${base_url}account/captcha/?ver=${Math.floor(Date.now()/1e3)}`}),$(document).on("submit","form",function(e){e.preventDefault(),$.ajax({url:$(this).attr("action"),type:$(this).attr("method"),dataType:"JSON",data:new FormData(this),processData:!1,contentType:!1,success:function(e,t){if("success"===t&&1==e.status)window.location.href="/";else{document.getElementById("captcha").src=`${base_url}account/captcha?ver=${Math.floor(Date.now()/1e3)}`,$('input[name="'+e.csrf.name+'"]').val(e.csrf.value);var a=$("#model-alert-login");a.find(".modal-body").html(e.message),a.modal("show")}},error:function(e,t,a){403==e.status&&window.location.reload()}})});